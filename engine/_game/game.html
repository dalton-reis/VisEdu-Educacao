<html>
<head>
<script src="./js/engine/lib/prototype-1.6.0.2.js"></script>
<script src="./js/engine/src/physic/box2d/common/b2Settings.js"></script>
<script src="./js/engine/src/physic/box2d/common/math/b2Vec2.js"></script>
<script src="./js/engine/src/physic/box2d/common/math/b2Mat22.js"></script>
<script src="./js/engine/src/physic/box2d/common/math/b2Math.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2AABB.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Bound.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2BoundValues.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Pair.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2PairCallback.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2BufferedPair.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2PairManager.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2BroadPhase.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Collision.js"></script>
<script src="./js/engine/src/physic/box2d/collision/Features.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2ContactID.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2ContactPoint.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Distance.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Manifold.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2OBB.js"></script>
<script src="./js/engine/src/physic/box2d/collision/b2Proxy.js"></script>
<script src="./js/engine/src/physic/box2d/collision/ClipVertex.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2Shape.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2ShapeDef.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2BoxDef.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2CircleDef.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2CircleShape.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2MassData.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2PolyDef.js"></script>
<script src="./js/engine/src/physic/box2d/collision/shapes/b2PolyShape.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2Body.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2BodyDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2CollisionFilter.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2Island.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2TimeStep.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2ContactNode.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2Contact.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2ContactConstraint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2ContactConstraintPoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2ContactRegister.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2ContactSolver.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2CircleContact.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2Conservative.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2NullContact.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2PolyAndCircleContact.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/contacts/b2PolyContact.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2ContactManager.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2World.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/b2WorldListener.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2JointNode.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2Joint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2JointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2DistanceJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2DistanceJointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2Jacobian.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2GearJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2GearJointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2MouseJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2MouseJointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2PrismaticJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2PrismaticJointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2PulleyJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2PulleyJointDef.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2RevoluteJoint.js"></script>
<script src="./js/engine/src/physic/box2d/dynamics/joints/b2RevoluteJointDef.js"></script>
<script src="./js/engine/src/utils/ArrayUtils.js"></script>
<script src="./js/engine/src/utils/ComponentUtils.js"></script>
<script src="./js/engine/src/utils/JSUtils.js"></script>
<script src="./js/engine/src/utils/StringUtils.js"></script>
<script src="./js/engine/src/collide/CollideInfo.js"></script>
<script src="./js/engine/src/component/Component.js"></script>
<script src="./js/engine/src/component/RigidBodyComponent.js"></script>
<script src="./js/engine/src/component/MoveCameraComponent.js"></script>
<script src="./js/engine/src/component/ImageRenderComponent.js"></script>
<script src="./js/engine/src/component/CircleRenderComponent.js"></script>
<script src="./js/engine/src/component/RotateComponent.js"></script>
<script src="./js/engine/src/component/FpsMeterComponent.js"></script>
<script src="./js/engine/src/component/PolygonRenderComponent.js"></script>
<script src="./js/engine/src/component/MoveTangramComponent.js"></script>
<script src="./js/engine/src/component/BoxRenderComponent.js"></script>
<script src="./js/engine/src/component/MoveSpaceShipComponent.js"></script>
<script src="./js/engine/src/component/AnimationRenderComponent.js"></script>
<script src="./js/engine/src/component/TranslateComponent.js"></script>
<script src="./js/engine/src/component/ScaleComponent.js"></script>
<script src="./js/engine/src/game/Asset.js"></script>
<script src="./js/engine/src/game/AssetStore.js"></script>
<script src="./js/engine/src/game/Camera.js"></script>
<script src="./js/engine/src/game/Game.js"></script>
<script src="./js/engine/src/game/Layer.js"></script>
<script src="./js/engine/src/game/Scene.js"></script>
<script src="./js/engine/src/gameobject/GameObject.js"></script>
<script src="./js/engine/src/gameobject/PolygonObject.js"></script>
<script src="./js/engine/src/gameobject/SpaceShipObject.js"></script>
<script src="./js/engine/src/gameobject/CircleObject.js"></script>
<script src="./js/engine/src/gameobject/BoxObject.js"></script>
<script src="./js/engine/src/geometric/Point2D.js"></script>
<script src="./js/engine/src/system/KeySystem.js"></script>
<script src="./js/engine/src/system/LogicSystem.js"></script>
<script src="./js/engine/src/system/MouseSystem.js"></script>
<script src="./js/engine/src/system/RenderSystem.js"></script>
<script type="text/javascript">
AssetStore.addAsset(new Asset().initialize("mario", "./assets/mario.png", "IMAGE"));
AssetStore.addAsset(new Asset().initialize("block", "./assets/block.png", "IMAGE"));
AssetStore.addAsset(new Asset().initialize("space_background", "./assets/space_background.png", "IMAGE"));
AssetStore.addAsset(new Asset().initialize("space_ship", "./assets/space_ship.png", "IMAGE"));
AssetStore.addAsset(new Asset().initialize("background", "./assets/background.jpg", "IMAGE"));
AssetStore.addAsset(new Asset().initialize("bullet", "./assets/bullet.png", "IMAGE"));
var backgroundImage = new ImageRenderComponent().initialize(AssetStore.getAsset("space_background").getAssetInstance(), false, "HORIZONTAL");
var fpsmeter = new FpsMeterComponent().initialize();
var background = new BoxObject().initialize(500, 500, 1280, 720, "black", "black");
var spaceShip = new SpaceShipObject().initialize(500, 500, 150, 120, AssetStore.getAsset("space_ship").getAssetInstance());
var layerBack = new Layer().initialize();
var layer = new Layer().initialize();
var scene = new Scene().initialize(-1000, -1000, 1000, 1000);
ComponentUtils.addComponent(background,backgroundImage);
ComponentUtils.addComponent(Game,fpsmeter);
layerBack.addGameObject(background);
layer.addGameObject(spaceShip);
scene.addLayer(layerBack);
scene.addLayer(layer);
ComponentUtils.removeComponent(background, ComponentUtils.getComponent(background, "BOX_RENDER_COMPONENT"));


layer.setGravity(0);

function createGame(){
Game.init(document.getElementById("gameCanvas"), scene);
Game.camera.centerPoint.x = 500; Game.camera.centerPoint.y = 500;
}
</script>
</head>
<body onload="createGame();">
<canvas id="gameCanvas" width="1024" height="800" style="border: 1px solid black;" />
</body>
</html>
